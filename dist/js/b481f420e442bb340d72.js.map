{"version":3,"file":"js/b481f420e442bb340d72.js","mappings":"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","sources":["webpack://JSPatcher/./src/core/objects/base/index.jsdsppkg.main.ts","webpack://JSPatcher/./src/core/objects/jsaw/AudioIn.ts","webpack://JSPatcher/./src/core/objects/jsaw/AudioOut.ts","webpack://JSPatcher/./src/core/objects/jsaw/Param.ts","webpack://JSPatcher/./src/core/objects/jsaw/index.jsdsppkg.main.ts"],"sourcesContent":["import BaseObject from \"./BaseObject\";\nimport EmptyObject from \"./EmptyObject\";\nimport InvalidObject from \"./InvalidObject\";\nimport { Func, New } from \"../importer/RemoteImporter\";\nimport { comment } from \"./index.jspatpkg\";\nimport getIO from \"../jsaw/index.jsdsppkg.main\";\n\nexport default async () => ({\n    BaseObject,\n    EmptyObject,\n    InvalidObject,\n    func: Func,\n    new: New,\n    comment,\n    ...await getIO()\n});\n","import BaseObject from \"../base/BaseObject\";\nimport type { IArgsMeta, IOutletsMeta, IPropsMeta } from \"../base/AbstractObject\";\nimport type { PatcherEventMap } from \"../../patcher/Patcher\";\n\ninterface P {\n    description: string;\n}\n\nexport default class AudioIn extends BaseObject<{}, {}, [], [Float32Array], [number], P> {\n    static isPatcherInlet = \"audio\" as const;\n    static description = \"Patcher inlet (audio)\";\n    static args: IArgsMeta = [{\n        type: \"number\",\n        optional: false,\n        default: 1,\n        description: \"Inlet index (1-based)\"\n    }];\n    static props: IPropsMeta<P> = {\n        description: {\n            type: \"string\",\n            default: \"\",\n            description: \"Description text\"\n        }\n    };\n    static outlets: IOutletsMeta = [{\n        type: \"object\",\n        description: \"Float32Array buffer\"\n    }];\n    protected get index() {\n        return Math.max(1, ~~this.box.args[0] || 1);\n    }\n    protected _ = { index: this.index };\n    protected handlePatcherInput = ({ input, buffer }: PatcherEventMap[\"audioInput\"]) => {\n        if (input === this.index - 1) this.outlet(0, buffer);\n    };\n    protected emitPatcherChangeIO = () => this.patcher.changeIO();\n    subscribe() {\n        super.subscribe();\n        this.on(\"metaUpdated\", this.emitPatcherChangeIO);\n        this.on(\"preInit\", () => {\n            this.inlets = 0;\n            this.outlets = 1;\n        });\n        this.on(\"postInit\", this.emitPatcherChangeIO);\n        this.on(\"updateArgs\", () => {\n            const { index } = this;\n            if (index !== this._.index) {\n                this._.index = index;\n                this.patcher.changeIO();\n            }\n        });\n        this.on(\"updateProps\", (props) => {\n            const outlet0 = { ...this.meta.outlets[0] };\n            if (typeof props.description === \"string\") outlet0.description = props.description;\n            this.setMeta({ outlets: [outlet0] });\n            this.emitPatcherChangeIO();\n        });\n        if (this.env.thread === \"AudioWorklet\") this.patcher.on(\"audioInput\", this.handlePatcherInput);\n        this.on(\"destroy\", () => {\n            this.patcher.off(\"audioInput\", this.handlePatcherInput);\n            this.patcher.changeIO();\n        });\n    }\n}\n","import BaseObject from \"../base/BaseObject\";\nimport type { IArgsMeta, IInletsMeta, IPropsMeta } from \"../base/AbstractObject\";\n\ninterface P {\n    description: string;\n}\n\nexport default class AudioOut extends BaseObject<{}, {}, [Float32Array], [], [number], P> {\n    static isPatcherOutlet = \"audio\" as const;\n    static description = \"Patcher outlet (audio)\";\n    static args: IArgsMeta = [{\n        type: \"number\",\n        optional: false,\n        default: 1,\n        description: \"Inlet index (1-based)\"\n    }];\n    static props: IPropsMeta<P> = {\n        description: {\n            type: \"string\",\n            default: \"\",\n            description: \"Description text\"\n        }\n    };\n    static inlets: IInletsMeta = [{\n        isHot: true,\n        type: \"anything\",\n        description: \"Float32Array buffer\"\n    }];\n    protected get index() {\n        return Math.max(1, ~~this.box.args[0] || 1);\n    }\n    protected _ = { index: this.index };\n    protected emitPatcherChangeIO = () => {\n        this.patcher.inspectAudioIO();\n        this.patcher.changeIO();\n    };\n    subscribe() {\n        super.subscribe();\n        this.on(\"metaUpdated\", this.emitPatcherChangeIO);\n        this.on(\"preInit\", () => {\n            this.inlets = 1;\n            this.outlets = 0;\n        });\n        this.on(\"postInit\", this.emitPatcherChangeIO);\n        this.on(\"updateArgs\", () => {\n            const { index } = this;\n            if (index !== this._.index) {\n                this._.index = index;\n                this.patcher.changeIO();\n            }\n        });\n        this.on(\"updateProps\", (props) => {\n            const inlet0 = { ...this.meta.inlets[0] };\n            if (typeof props.description === \"string\") inlet0.description = props.description;\n            this.setMeta({ inlets: [inlet0] });\n            this.emitPatcherChangeIO();\n        });\n        this.on(\"inlet\", ({ data, inlet }) => {\n            if (inlet === 0) this.patcher.outputAudio(this.index - 1, data);\n        });\n        this.on(\"destroy\", this.emitPatcherChangeIO);\n    }\n}\n","import BaseObject from \"../base/BaseObject\";\nimport type { IArgsMeta, IOutletsMeta, IPropsMeta } from \"../base/AbstractObject\";\nimport type { PatcherEventMap } from \"../../patcher/Patcher\";\n\ninterface P {\n    description: string;\n}\n\nexport default class Param extends BaseObject<{}, {}, [], [Float32Array], [string], P> {\n    static description = \"Patcher outlet (data)\";\n    static args: IArgsMeta = [{\n        type: \"string\",\n        optional: false,\n        default: \"\",\n        description: \"Parameter name\"\n    }];\n    static props: IPropsMeta<P> = {\n        description: {\n            type: \"string\",\n            default: \"\",\n            description: \"Description text\"\n        }\n    };\n    static outlets: IOutletsMeta = [{\n        type: \"anything\",\n        description: \"\"\n    }];\n    protected handlePatcherInput = ({ param, buffer }: PatcherEventMap[\"paramInput\"]) => {\n        if (this.args[0] === param) this.outlet(0, buffer);\n    };\n    protected emitPatcherChangeIO = () => this.patcher.changeIO();\n    subscribe() {\n        super.subscribe();\n        this.on(\"metaUpdated\", this.emitPatcherChangeIO);\n        this.on(\"preInit\", () => {\n            this.inlets = 0;\n            this.outlets = 1;\n        });\n        this.on(\"postInit\", this.emitPatcherChangeIO);\n        this.on(\"updateArgs\", this.emitPatcherChangeIO);\n        this.on(\"updateProps\", (props) => {\n            const outlet0 = { ...this.meta.outlets[0] };\n            if (typeof props.description === \"string\") outlet0.description = props.description;\n            this.setMeta({ outlets: [outlet0] });\n            this.emitPatcherChangeIO();\n        });\n        if (this.env.thread === \"AudioWorklet\") this.patcher.on(\"paramInput\", this.handlePatcherInput);\n        this.on(\"destroy\", () => {\n            this.patcher.off(\"paramInput\", this.handlePatcherInput);\n            this.patcher.changeIO();\n        });\n    }\n}\n","import generateRemoteObject from \"../base/generateRemoteObject\";\nimport In from \"./In\";\nimport Out from \"./Out\";\nimport Param from \"./Param\";\nimport AudioIn from \"./AudioIn\";\nimport AudioOut from \"./AudioOut\";\nimport type BaseObject from \"../base/BaseObject\";\n\nexport default async () => ({\n    in: generateRemoteObject(In as typeof BaseObject),\n    out: generateRemoteObject(Out as typeof BaseObject),\n    \"param~\": generateRemoteObject(Param as typeof BaseObject),\n    \"in~\": generateRemoteObject(AudioIn as typeof BaseObject),\n    \"out~\": generateRemoteObject(AudioOut as typeof BaseObject)\n});\n"],"names":[],"sourceRoot":""}