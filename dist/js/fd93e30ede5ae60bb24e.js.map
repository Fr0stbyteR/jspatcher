{"version":3,"file":"js/fd93e30ede5ae60bb24e.js","mappings":";;;;;;;;;;;;;;;;AAAgD;AACR;AAOzB,MAAM,qBAAqB,0DAAY,CAA8C;AAAA,EAChG,aAAa,gBAAgB,SAAuG;AAChI,WAAO,IAAI,KAAK,OAAO,EAAE,KAAK,QAAQ,KAAK,IAAI;AAAA,EACnD;AAAA,EAEA,MAAM,YAAY;AACd,UAAM,SAAS,IAAI,oDAAW,CAAC,IAAI;AACnC,WAAO,OAAO,KAAK;AAAA,EACvB;AAAA,EACA,MAAM,KAAK,MAAoB;AAC3B,QAAI;AAAM,WAAK,YAAY,IAAI,gBAAgB,MAAM,IAAI,SAAS,IAAI,EAAE,KAAK,CAAC;AAAA;AACzE,WAAK,YAAY;AACtB,SAAK,WAAW;AAChB,SAAK,KAAK,OAAO;AACjB,WAAO;AAAA,EACX;AAAA,EACA,MAAM,YAAY;AACd,YAAQ,MAAM,MAAM,KAAK,SAAS,GAAG,YAAY;AAAA,EACrD;AAAA,EACA,QAAQ;AACJ,UAAM,eAAe,IAAI,aAAa,EAAE,KAAK,KAAK,KAAK,SAAS,KAAK,SAAS,MAAM,KAAK,KAAK,CAAC;AAC/F,iBAAa,YAAY,KAAK;AAC9B,WAAO;AAAA,EACX;AACJ","sources":["webpack://JSPatcher/./src/core/video/PatcherVideo.ts"],"sourcesContent":["import FileInstance from \"../file/FileInstance\";\nimport VideoEditor from \"./VideoEditor\";\nimport type PersistentProjectFile from \"../file/PersistentProjectFile\";\nimport type { IJSPatcherEnv } from \"../Env\";\nimport type { IProject } from \"../Project\";\n\nexport interface PatcherVideoEventMap {}\n\nexport default class PatcherVideo extends FileInstance<PatcherVideoEventMap, PersistentProjectFile> {\n    static async fromProjectItem(options: { file: PersistentProjectFile; env: IJSPatcherEnv; project?: IProject; instanceId?: string }) {\n        return new this(options).init(options.file.data);\n    }\n    objectURL: string;\n    async getEditor() {\n        const editor = new VideoEditor(this);\n        return editor.init();\n    }\n    async init(data?: ArrayBuffer) {\n        if (data) this.objectURL = URL.createObjectURL(await new Response(data).blob());\n        else this.objectURL = \"\";\n        this._isReady = true;\n        this.emit(\"ready\");\n        return this;\n    }\n    async serialize() {\n        return (await fetch(this.objectURL)).arrayBuffer();\n    }\n    clone() {\n        const patcherVideo = new PatcherVideo({ env: this.env, project: this.project, file: this.file });\n        patcherVideo.objectURL = this.objectURL;\n        return patcherVideo;\n    }\n}\n"],"names":[],"sourceRoot":""}