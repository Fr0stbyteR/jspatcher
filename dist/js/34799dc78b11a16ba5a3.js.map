{"version":3,"file":"js/34799dc78b11a16ba5a3.js","mappings":";;;;;;;;;;;;;;;;;AAAA,gBAAgB,SAAI,IAAI,SAAI;AAC5B;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACiE;AAClC;AACoB;AACP;AAC5C;AACA;AACA,2BAA2B,6CAAM;AACjC,iBAAiB,6CAAM;AACvB,wBAAwB,6CAAM;AAC9B,yCAAyC,6CAAM;AAC/C,qBAAqB,mDAAW;AAChC,sBAAsB,mDAAW;AACjC,gBAAgB,8CAAO,eAAe;AACtC;AACA;AACA,KAAK,IAAI;AACT;AACA,2CAA2C,mEAAM;AACjD;AACA;AACA;AACA,uCAAuC,mEAAM;AAC7C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,0CAA0C,mEAAM;AAChD;AACA;AACA;AACA,4BAA4B,0EAAa;AACzC,4BAA4B,0EAAa;AACzC;AACA;AACA;AACA,SAAS;AACT;AACA,IAAI,gDAAS;AACb;AACA;AACA;AACA,6BAA6B,0EAAa,yEAAyE,iBAAiB,kCAAkC,IAAI,yBAAyB,eAAe,IAAI;AACtN;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,IAAI,gDAAS;AACb;AACA,6DAA6D,iBAAiB,kCAAkC,IAAI;AACpH;AACA,KAAK;AACL,IAAI,gDAAS;AACb;AACA;AACA;AACA,KAAK;AACL,IAAI,gDAAS;AACb;AACA;AACA,YAAY,0EAAa;AACzB,YAAY,0EAAa;AACzB;AACA,KAAK;AACL,IAAI,gDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI,gDAAS;AACb,QAAQ,0EAAa;AACrB,KAAK;AACL,IAAI,gDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI,gDAAS,eAAe;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,YAAY,gDAAmB,UAAU,iFAAiF;AAC1H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,wBAAwB;AACxB,qBAAqB,wCAAI;AACzB,oBAAoB,wCAAI;AACxB,uBAAuB,wCAAI;AAC3B,cAAc,wCAAI;AAClB;AACA;AACA,iEAAe,gBAAgB,EAAC;AAChC;;;;;;;;;;;;;;;;;;ACpJA,gBAAgB,SAAI,IAAI,SAAI;AAC5B;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,SAAI,IAAI,SAAI;AAC1B;AACA;AACA;AACA;AACA,6DAA6D,cAAc;AAC3E;AACA;AACA;AACA;AACA;AACiE;AAClC;AACoB;AACP;AAC5C;AACA;AACA,2BAA2B,6CAAM;AACjC,iBAAiB,6CAAM;AACvB,wBAAwB,6CAAM;AAC9B,yCAAyC,6CAAM;AAC/C,qBAAqB,mDAAW;AAChC,sBAAsB,mDAAW;AACjC,gBAAgB,8CAAO,eAAe;AACtC;AACA;AACA,KAAK,IAAI;AACT;AACA,2CAA2C,mEAAM;AACjD;AACA;AACA;AACA,uCAAuC,mEAAM;AAC7C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,0CAA0C,mEAAM;AAChD;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD,6BAA6B,0EAAa,+DAA+D,uCAAuC,iBAAiB,kCAAkC,IAAI,8BAA8B,eAAe,IAAI;AACxP;AACA;AACA;AACA;AACA;AACA,IAAI,gDAAS;AACb,IAAI,gDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI,gDAAS;AACb;AACA;AACA,YAAY,0EAAa;AACzB;AACA,KAAK;AACL,IAAI,gDAAS;AACb;AACA;AACA;AACA;AACA,6DAA6D,iBAAiB,kCAAkC,IAAI;AACpH;AACA,KAAK;AACL,IAAI,gDAAS;AACb;AACA;AACA;AACA,KAAK;AACL,IAAI,gDAAS;AACb,QAAQ,0EAAa;AACrB,KAAK;AACL,IAAI,gDAAS,eAAe;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,YAAY,gDAAmB,UAAU,iFAAiF;AAC1H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,wBAAwB;AACxB,qBAAqB,wCAAI;AACzB,oBAAoB,wCAAI;AACxB,uBAAuB,wCAAI;AAC3B,cAAc,wCAAI;AAClB;AACA;AACA,iEAAe,YAAY,EAAC;AAC5B;;;;;;;;;;;;;;;;;;;;ACxIiE;AAC3B;AACF;AACZ;AACxB;AAC6D;AAC7D;;;;;;;;;;;ACNU;AACV;;;;;;;;;;;;;;;ACDO;AACP;AACA;AACO;AACP","sources":["webpack://JSPatcher/./node_modules/react-monaco-editor/lib/diff.js","webpack://JSPatcher/./node_modules/react-monaco-editor/lib/editor.js","webpack://JSPatcher/./node_modules/react-monaco-editor/lib/index.js","webpack://JSPatcher/./node_modules/react-monaco-editor/lib/types.js","webpack://JSPatcher/./node_modules/react-monaco-editor/lib/utils.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as monaco from \"monaco-editor/esm/vs/editor/editor.api\";\nimport * as React from \"react\";\nimport { useEffect, useMemo, useRef } from \"react\";\nimport { noop, processSize } from \"./utils\";\nfunction MonacoDiffEditor(_a) {\n    var width = _a.width, height = _a.height, value = _a.value, defaultValue = _a.defaultValue, language = _a.language, theme = _a.theme, options = _a.options, overrideServices = _a.overrideServices, editorWillMount = _a.editorWillMount, editorDidMount = _a.editorDidMount, editorWillUnmount = _a.editorWillUnmount, onChange = _a.onChange, className = _a.className, original = _a.original;\n    var containerElement = useRef(null);\n    var editor = useRef(null);\n    var _subscription = useRef(null);\n    var __prevent_trigger_change_event = useRef(null);\n    var fixedWidth = processSize(width);\n    var fixedHeight = processSize(height);\n    var style = useMemo(function () { return ({\n        width: fixedWidth,\n        height: fixedHeight,\n    }); }, [fixedWidth, fixedHeight]);\n    var handleEditorWillMount = function () {\n        var finalOptions = editorWillMount(monaco);\n        return finalOptions || {};\n    };\n    var handleEditorDidMount = function () {\n        editorDidMount(editor.current, monaco);\n        var modified = editor.current.getModel().modified;\n        _subscription.current = modified.onDidChangeContent(function (event) {\n            if (!__prevent_trigger_change_event.current) {\n                onChange(modified.getValue(), event);\n            }\n        });\n    };\n    var handleEditorWillUnmount = function () {\n        editorWillUnmount(editor.current, monaco);\n    };\n    var initModels = function () {\n        var finalValue = value != null ? value : defaultValue;\n        var originalModel = monaco.editor.createModel(original, language);\n        var modifiedModel = monaco.editor.createModel(finalValue, language);\n        editor.current.setModel({\n            original: originalModel,\n            modified: modifiedModel,\n        });\n    };\n    useEffect(function () {\n        if (containerElement.current) {\n            // Before initializing monaco editor\n            handleEditorWillMount();\n            editor.current = monaco.editor.createDiffEditor(containerElement.current, __assign(__assign(__assign({}, (className ? { extraEditorClassName: className } : {})), options), (theme ? { theme: theme } : {})), overrideServices);\n            // After initializing monaco editor\n            initModels();\n            handleEditorDidMount();\n        }\n    }, \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []);\n    useEffect(function () {\n        if (editor.current) {\n            editor.current.updateOptions(__assign(__assign({}, (className ? { extraEditorClassName: className } : {})), options));\n        }\n    }, [className, options]);\n    useEffect(function () {\n        if (editor.current) {\n            editor.current.layout();\n        }\n    }, [width, height]);\n    useEffect(function () {\n        if (editor.current) {\n            var _a = editor.current.getModel(), originalEditor = _a.original, modified = _a.modified;\n            monaco.editor.setModelLanguage(originalEditor, language);\n            monaco.editor.setModelLanguage(modified, language);\n        }\n    }, [language]);\n    useEffect(function () {\n        if (editor.current) {\n            var modified = editor.current.getModel().modified;\n            __prevent_trigger_change_event.current = true;\n            // modifiedEditor is not in the public API for diff editors\n            editor.current.getModifiedEditor().pushUndoStop();\n            // pushEditOperations says it expects a cursorComputer, but doesn't seem to need one.\n            // @ts-expect-error\n            modified.pushEditOperations([], [\n                {\n                    range: modified.getFullModelRange(),\n                    text: value,\n                },\n            ]);\n            // modifiedEditor is not in the public API for diff editors\n            editor.current.getModifiedEditor().pushUndoStop();\n            __prevent_trigger_change_event.current = false;\n        }\n    }, [value]);\n    useEffect(function () {\n        monaco.editor.setTheme(theme);\n    }, [theme]);\n    useEffect(function () {\n        if (editor.current) {\n            var originalEditor = editor.current.getModel().original;\n            if (original !== originalEditor.getValue()) {\n                originalEditor.setValue(original);\n            }\n        }\n    }, [original]);\n    useEffect(function () { return function () {\n        if (editor.current) {\n            handleEditorWillUnmount();\n            editor.current.dispose();\n            var _a = editor.current.getModel(), originalEditor = _a.original, modified = _a.modified;\n            if (originalEditor) {\n                originalEditor.dispose();\n            }\n            if (modified) {\n                modified.dispose();\n            }\n        }\n        if (_subscription.current) {\n            _subscription.current.dispose();\n        }\n    }; }, \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []);\n    return (React.createElement(\"div\", { ref: containerElement, style: style, className: \"react-monaco-editor-container\" }));\n}\nMonacoDiffEditor.defaultProps = {\n    width: \"100%\",\n    height: \"100%\",\n    original: null,\n    value: null,\n    defaultValue: \"\",\n    language: \"javascript\",\n    theme: null,\n    options: {},\n    overrideServices: {},\n    editorWillMount: noop,\n    editorDidMount: noop,\n    editorWillUnmount: noop,\n    onChange: noop,\n    className: null,\n};\nexport default MonacoDiffEditor;\n//# sourceMappingURL=diff.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as monaco from \"monaco-editor/esm/vs/editor/editor.api\";\nimport * as React from \"react\";\nimport { useEffect, useMemo, useRef } from \"react\";\nimport { noop, processSize } from \"./utils\";\nfunction MonacoEditor(_a) {\n    var width = _a.width, height = _a.height, value = _a.value, defaultValue = _a.defaultValue, language = _a.language, theme = _a.theme, options = _a.options, overrideServices = _a.overrideServices, editorWillMount = _a.editorWillMount, editorDidMount = _a.editorDidMount, editorWillUnmount = _a.editorWillUnmount, onChange = _a.onChange, className = _a.className;\n    var containerElement = useRef(null);\n    var editor = useRef(null);\n    var _subscription = useRef(null);\n    var __prevent_trigger_change_event = useRef(null);\n    var fixedWidth = processSize(width);\n    var fixedHeight = processSize(height);\n    var style = useMemo(function () { return ({\n        width: fixedWidth,\n        height: fixedHeight,\n    }); }, [fixedWidth, fixedHeight]);\n    var handleEditorWillMount = function () {\n        var finalOptions = editorWillMount(monaco);\n        return finalOptions || {};\n    };\n    var handleEditorDidMount = function () {\n        editorDidMount(editor.current, monaco);\n        _subscription.current = editor.current.onDidChangeModelContent(function (event) {\n            if (!__prevent_trigger_change_event.current) {\n                onChange(editor.current.getValue(), event);\n            }\n        });\n    };\n    var handleEditorWillUnmount = function () {\n        editorWillUnmount(editor.current, monaco);\n    };\n    var initMonaco = function () {\n        var finalValue = value !== null ? value : defaultValue;\n        if (containerElement.current) {\n            // Before initializing monaco editor\n            var finalOptions = __assign(__assign({}, options), handleEditorWillMount());\n            editor.current = monaco.editor.create(containerElement.current, __assign(__assign(__assign({ value: finalValue, language: language }, (className ? { extraEditorClassName: className } : {})), finalOptions), (theme ? { theme: theme } : {})), overrideServices);\n            // After initializing monaco editor\n            handleEditorDidMount();\n        }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useEffect(initMonaco, []);\n    useEffect(function () {\n        if (editor.current) {\n            var model = editor.current.getModel();\n            __prevent_trigger_change_event.current = true;\n            editor.current.pushUndoStop();\n            // pushEditOperations says it expects a cursorComputer, but doesn't seem to need one.\n            model.pushEditOperations([], [\n                {\n                    range: model.getFullModelRange(),\n                    text: value,\n                },\n            ], undefined);\n            editor.current.pushUndoStop();\n            __prevent_trigger_change_event.current = false;\n        }\n    }, [value]);\n    useEffect(function () {\n        if (editor.current) {\n            var model = editor.current.getModel();\n            monaco.editor.setModelLanguage(model, language);\n        }\n    }, [language]);\n    useEffect(function () {\n        if (editor.current) {\n            // Don't pass in the model on update because monaco crashes if we pass the model\n            // a second time. See https://github.com/microsoft/monaco-editor/issues/2027\n            var _model = options.model, optionsWithoutModel = __rest(options, [\"model\"]);\n            editor.current.updateOptions(__assign(__assign({}, (className ? { extraEditorClassName: className } : {})), optionsWithoutModel));\n        }\n    }, [className, options]);\n    useEffect(function () {\n        if (editor.current) {\n            editor.current.layout();\n        }\n    }, [width, height]);\n    useEffect(function () {\n        monaco.editor.setTheme(theme);\n    }, [theme]);\n    useEffect(function () { return function () {\n        if (editor.current) {\n            handleEditorWillUnmount();\n            editor.current.dispose();\n            var model = editor.current.getModel();\n            if (model) {\n                model.dispose();\n            }\n        }\n        if (_subscription.current) {\n            _subscription.current.dispose();\n        }\n    }; }, \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []);\n    return (React.createElement(\"div\", { ref: containerElement, style: style, className: \"react-monaco-editor-container\" }));\n}\nMonacoEditor.defaultProps = {\n    width: \"100%\",\n    height: \"100%\",\n    value: null,\n    defaultValue: \"\",\n    language: \"javascript\",\n    theme: null,\n    options: {},\n    overrideServices: {},\n    editorWillMount: noop,\n    editorDidMount: noop,\n    editorWillUnmount: noop,\n    onChange: noop,\n    className: null,\n};\nexport default MonacoEditor;\n//# sourceMappingURL=editor.js.map","import * as monaco from \"monaco-editor/esm/vs/editor/editor.api\";\nimport MonacoDiffEditor from \"./diff\";\nimport MonacoEditor from \"./editor\";\nexport * from \"./types\";\n// eslint-disable-next-line no-restricted-exports\nexport { MonacoEditor as default, MonacoDiffEditor, monaco };\n//# sourceMappingURL=index.js.map","export {};\n//# sourceMappingURL=types.js.map","export function processSize(size) {\n    return !/^\\d+$/.test(size) ? size : \"\".concat(size, \"px\");\n}\nexport function noop() { }\n//# sourceMappingURL=utils.js.map"],"names":[],"sourceRoot":""}